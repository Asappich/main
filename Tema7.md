# Тема 7. Работа с файлами (ввод, вывод)
Отчёт по теме выполнил:
  - Плашкин Денис Владимирович 
  - ИВТ-22-2

| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | + | + |
| Задание 2 | + | + | 
| Задание 3 | + | + | 
| Задание 4 | + | + |
| Задание 5 | + | + | 
| Задание 6 | + | - | 
| Задание 7 | + | - | 
| Задание 8 | + | - | 
| Задание 9 | + | - | 
| Задание 10 | + | - | 

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Лабораторные задания:

### №1. 
Составьте текстовый файл и положите его в одну директорию с программой на Python. Текстовый файл должен состоять минимум из двух строк.
### Ответ (текст внутри файла):
```python
"Wait a minute, get it how you live it
Ten toes in when we standin' on business.
I'm a big stepper, underground methods
Top-notch hoes get the most, not the lesser."
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z1.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №2. 
Напишите программу, которая выведет только первую строку из вашего файла, при этом используйте конструкцию open()/close().
### Ответ: 
```python
f = open('input.txt', 'r')
print(f.readline())
f.close()
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z2.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №3. 
Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию open(/)/close().
### Ответ: 
```python
f = open('input.txt', 'r')
print(f.readlines())
f.close()
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z3.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №4. 
Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию with open().
### Ответ: 
```python
with open ('input.txt') as f:
    print(f.readlines())
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z4.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №5. 
Напишите программу, которая выведет каждую строку из вашего файла отдельно, при этом используйте конструкцию with open().
### Ответ: 
```python
with open ('input.txt') as f:
    for line in f:
        print(line)
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z5.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №6. 
Напишите программу, которая будет добавлять новую строку в ваш файл, а потом выведет полученный файл в консоль. Вывод можно осуществлять любым способом. Обязательно проверьте сам файл, чтобы изменения в нем тоже отображались.
### Ответ: 
```python
with open('input.txt', 'a+') as f:
    f.write('\nA quote from a book')

with open('input.txt', 'r') as f:
    result = f.readlines()
    print(result)
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z6.jpg)


### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №7. 
Напишите программу, которая перепишет всю информацию, которая была у вас в файле до этого, например, направит любые данные из произвольно вами составленного списка. Также не забудьте проверить что измененная вами информация сохранилась в файле.
### Ответ: 
```python
lines = ['one', 'two', 'three']
with open('input.txt', 'w') as f:
    for line in lines:
        f.write('\nCycle run ' + line)
    print('Done!')
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z7.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №8. 
Выберите любую папку на своем компьютере, имеющую вложенные директории. Выведите на печать в терминал ее содержимое, как и всех подкаталогов при помощи функции print_docs(directory).
### Ответ: 
```python
import os

def print_docs(directory):
    all_files = os.walk(directory)
    for catalog in all_files:
        print(f'Папка {catalog[0]} содержит:')
    print(f'Директории: {", ".join([folder for folder in catalog[1]])}')
    print(f'Файлы: {", ".join([file for file in catalog[2]])}')
    print('-' * 40)

print_docs('C:/Users/sokol/Pictures/Животные')
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z8.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №9. 
Документ «input.txt» содержит следующий текст:
Приветствие
Спасибо
Извините
Пожалуйста
До свидания
Ты готов?
Как дела?
С днем рождения!
Удача!
Я тебя люблю.

Требуется реализовать функцию, которая выводит слово, имеющее максимальную длину (или список слов, если таковых несколько). 
### Ответ: 
```python
def longestwords(file):
    with open(file, encoding='utf-8') as f:
        words = f.read().split()
        max_length = len(max(words, key=len))
        for word in words:
            if len(word) == max_length:
                sought_words = word

            if len(sought_words) == 1:
                return ' '.join([sought_words])
            return sought_words


print(longestwords('input.txt'))
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z9.jpg)

### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

### №10. 
Требуется создать сsv-файл «rows_300.csv» со следующими столбцами:
. № – номер по порядку (от 1 до 300);
. Секунда – текущая секунда на вашем ПК;
. Микросекунда – текущая миллисекунда на часах.
Для наглядности на каждой интерации цикла искусственно приостанавливайте скрипт на 0,01 секунды.
### Ответ: 
```python
import csv
import datetime
import time

with open('rows_300.csv', 'w', encoding='utf-8', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['№', 'Секунда', 'Микросекунда'])
    for line in range(1, 301):
        dt = datetime.datetime.now()
        writer.writerow([line, dt.second, dt.microsecond])

time.sleep(0.01)
```
![Меню](https://github.com/Asappich/main/blob/Tema7/pic/z10.jpg)
#### Файл «rows_300.csv» также есть в папке "коды"
### Вывод: 
Этот код принимает номер кабинета от пользователя и проверяет его наличие в словаре dictionary. Если ключ существует и у него есть значение 'access': True, то программа выводит соответствующий ключ и доступ. В противном случае, она использует значение по ключу 'None' и выводит его.

## Самостоятельная работа №1
Найдите в интернете любую статью (объем статьи не менее 200 слов), скопируйте ее содержимое в файл и напишите программу, которая считает количество слов в текстовом файле и определит самое часто встречающееся слово. Результатом выполнения задачи будет: скриншот файла со статьей, листинг кода, и вывод в консоль, в котором будет указана вся необходимая информация.

```python
from collections import Counter
with open('input.txt', 'r', encoding ='utf-8') as file:
    text = file.read()
words = text.split()
word_count = len(words)
word_freq = Counter(words)
most_common_word, most_common_count = word_freq.most_common(1)[0]
print(f'Количество слов: {word_count}')
print(f'Самое частое слово: "{most_common_word}" (встречается {most_common_count} раз)')
```
### Результат.
![image](https://github.com/Asappich/main/blob/Tema7/pic/s1.jpg)

Использованный текст:
Файл input.txt в папке pic.

## Выводы
Программа показывает общее количество слов и самое частое слово с его частотой.

## Самостоятельная работа №2
У вас появилась потребность в ведении книги расходов, посмотрев все существующие варианты вы пришли к выводу что вас ничего не устраивает и нужно все делать самому. Напишите программу для учета расходов. Программа должна позволять вводить информацию о расходах, сохранять ее в файл и выводить существующие данные в консоль. Ввод информации происходит через консоль. Результатом выполнения задачи будет: скриншот файла с учетом расходов, листинг кода, и вывод в консоль, с демонстрацией работоспособности программы.

```python
def add_expense():
    description = input("Введите описание расходов: ")
    amount = input("Введите сумму расходов: ")
    with open('accounting.txt', 'a', encoding='utf-8') as file:
        file.write(f'{description}: {amount}\n')
def show_expenses():
    print("Записи расходов:")
    with open('accounting.txt', 'r', encoding='utf-8') as file:
        for line in file:
            print(line.strip())
while True:
    action = input("Введите 'добавить'(1) для добавления расхода или 'показать'(2) для вывода всех расходов: ").strip()
    if action.lower() == '1':
        add_expense()
    elif action.lower() == '2':
        show_expenses()
    else:
        print("Неверный ввод. Попробуйте снова.")
```
### Результат.
![image](https://github.com/Asappich/main/blob/Tema7/pic/s2.jpg)

## Выводы
Программа позволяет добавлять и показывать записи расходов.

## Самостоятельная работа №3
Имеется файл input.txt с текстом на латинице. Напишите программу, которая выводит следующую статистику по тексту: количество букв латинского алфавита; число слов; число строк.
•	Текст в файле: Beautiful is better than ugly. Explicit is better than implicit. Simple is better than complex.
Complex is better than complicated.
•	Ожидаемый результат: Input file contains:
108 letters
20 words
4 lines

```python
def text_statistics(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        text = file.read()
    letters_count = sum(c.isalpha() for c in text)
    words_count = len(text.split())
    lines_count = text.count('\n') + 1
    print(f"Input file contains:")
    print(f"{letters_count} letters")
    print(f"{words_count} words")
    print(f"{lines_count} lines")
text_statistics('input.txt')
```
### Результат.
![image](https://github.com/Asappich/main/blob/Tema7/pic/s3.jpg)

## Выводы
Программа выводит количество букв, слов и строк из файла. 

## Самостоятельная работа №4
Напишите программу, которая получает на вход предложение, выводит его в терминал, заменяя все запрещенные слова звездочками * (количество звездочек равно количеству букв в слове). Запрещенные слова, разделенные символом пробела, хранятся в текстовом файле input.txt. Все слова в этом файле записаны в нижнем регистре. Программа должна заменить запрещенные слова, где бы они ни встречались, даже в середине другого слова. Замена производится независимо от регистра: если файл input.txt содержит запрещенное слово exam, то слова exam, Exam, ExaM, EXAM и exAm должны быть заменены на ****.
•	Запрещенные слова:
hello email python the exam wor is
•	Предложение для проверки:
Hello, world! Python IS the programming language of thE future. My EMAIL is ksusha.katkova2468@yandex.ru
PYTHON is awesome!!!!
•	Ожидаемый результат:
*****, ***ld! ****** ** *** programming language of *** future. My
***** ** ksusha.katkova2468@yandex.ru
****** ** awesome!!!!

```python
import re
def censor_text(input_text, banned_words):
    for word in banned_words:
        input_text = re.sub(word, '*' * len(word), input_text, flags=re.IGNORECASE)
    return input_text
with open('input.txt', 'r', encoding='utf-8') as file:
    banned_words = file.read().strip().split()
sentence = input("Введите предложение для проверки: ")
censored_sentence = censor_text(sentence, banned_words)
print(censored_sentence)
```
### Результат.
![image](https://github.com/Asappich/main/blob/Tema7/pic/s4.jpg)

## Выводы
Программа заменяет запрещенные слова в вводимом предложении на звездочки.

## Самостоятельная работа №5
Самостоятельно придумайте и решите задачу, которая будет взаимодействовать с текстовым файлом.
Подсчет строк в файле и вывод их на экран.

```python
def print_lines(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        for line_num, line in enumerate(file, 1):
            print(f"{line_num}: {line.strip()}")
print_lines('input.txt')
```
### Результат.
![image](https://github.com/Asappich/main/blob/Tema7/pic/s5.jpg)

## Выводы
Программа выводит строки файла с их номерами.

## Общие выводы по теме

1. Основные операции с файлами
Были изучены методы для работы с файлами. Основные операции включают:
- Чтение (read(), readline(), readlines()): позволяет загружать данные из файла в переменные для обработки.
- Запись (write(), writelines()): позволяет сохранять данные в файл.
- Открытие (open()): используется для открытие файла с заданными параметрами (режимы чтения, записи и т.д.).

2. Режимы открытия файлов
При открытии файлов необходимо указывать режим:
- 'r' - чтение.
- 'w' - запись.
- 'a' - добавление строки.

3. with
Использование with при открытии файлов является хорошей практикой, так как:
- Гарантирует, что файл будет закрыт автоматически после завершения блока, даже если возникло исключение.

4. Работа с текстами
Работа с текстовой информацией включает:
- Учет кодировок (например, utf-8), что особенно важно при работе с данными на разных языках.
- Обработка строк: методами strip(), split(), join() и другими, для манипуляций со строками.
